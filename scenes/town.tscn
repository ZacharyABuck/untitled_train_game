[gd_scene load_steps=18 format=3 uid="uid://cwgn51i4160nt"]

[ext_resource type="Script" path="res://scripts/town.gd" id="1_mviet"]
[ext_resource type="Texture2D" uid="uid://degtajbagy7wq" path="res://sprites/town/world_map_town_1.png" id="2_fjydp"]
[ext_resource type="FontFile" uid="uid://lxcj83h6gsu7" path="res://fonts/JMH Typewriter-Black.otf" id="2_hdird"]
[ext_resource type="AudioStream" uid="uid://dj7kocwaaxocr" path="res://sounds/ui/big_select.mp3" id="4_60ynl"]
[ext_resource type="Texture2D" uid="uid://cofci5enhbedj" path="res://sprites/ui/arrow.png" id="5_u7tm2"]
[ext_resource type="Theme" uid="uid://dkxiakuxtv3c5" path="res://scenes/ui/sketch_theme.tres" id="6_jtu27"]
[ext_resource type="AudioStream" uid="uid://d2nwj7vu6t12t" path="res://sounds/ui/menu-select-tick.wav" id="7_hsko1"]
[ext_resource type="Texture2D" uid="uid://dqk86uxif1wyp" path="res://sprites/ui/rifle_sketch.png" id="8_a0fk0"]
[ext_resource type="Texture2D" uid="uid://ccydwnn5siydn" path="res://sprites/ui/x.png" id="8_m8501"]
[ext_resource type="Texture2D" uid="uid://bfhfpjjn1ks4" path="res://sprites/ui/train_sketch.png" id="9_i57c5"]
[ext_resource type="Texture2D" uid="uid://bs75y5b88dpqk" path="res://sprites/ui/gear.png" id="9_nf7vj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q0ns8"]
size = Vector2(405, 253)

[sub_resource type="Animation" id="Animation_41biy"]
resource_name = "name_bounce"
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("NameLabel:scale:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1.1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NameLabel:scale:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1.1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}

[sub_resource type="Animation" id="Animation_0hl2m"]
resource_name = "name_reset"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("NameLabel:scale:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("NameLabel:scale:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_kefwq"]
_data = {
"name_bounce": SubResource("Animation_41biy"),
"name_reset": SubResource("Animation_0hl2m")
}

[sub_resource type="Animation" id="Animation_j0vhq"]
resource_name = "arrow_bounce"
length = 2.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ArrowSprite:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ArrowSprite:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-150, -0.25, 0, 0.25, 0, -100, -0.25, 0, 0.25, 0, -150, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 2)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("YouLabel:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-48, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("YouLabel:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-271, -0.25, 0, 0.4, 0, -210, -0.25, 0, 0.4, 0, -271, -0.25, 0, 0.4, 0),
"times": PackedFloat32Array(0, 1, 2)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q2t07"]
_data = {
"arrow_bounce": SubResource("Animation_j0vhq")
}

[node name="Town" type="Area2D"]
script = ExtResource("1_mviet")

[node name="Shadow" type="Sprite2D" parent="."]
modulate = Color(0, 0, 0, 0.278431)
position = Vector2(60, 17)
scale = Vector2(0.734375, 0.367188)
texture = ExtResource("2_fjydp")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_fjydp")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-3.5, 23.5)
shape = SubResource("RectangleShape2D_q0ns8")
debug_color = Color(0.993255, 0, 0.240295, 0.42)

[node name="HoverAnimation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_kefwq")
}

[node name="ClickedSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_60ynl")
volume_db = -10.0
bus = &"SFX"

[node name="ArrowSprite" type="Sprite2D" parent="."]
visible = false
texture_filter = 1
position = Vector2(1, -138)
scale = Vector2(4, 4)
texture = ExtResource("5_u7tm2")

[node name="YouLabel" type="Label" parent="."]
visible = false
texture_filter = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -53.0
offset_top = -245.0
offset_right = 53.0
offset_bottom = -171.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("6_jtu27")
theme_override_constants/outline_size = 5
theme_override_font_sizes/font_size = 50
text = "YOU"
horizontal_alignment = 1
vertical_alignment = 1

[node name="ArrowAnimation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_q2t07")
}
autoplay = "arrow_bounce"

[node name="NameLabel" type="Label" parent="."]
z_index = 1
z_as_relative = false
offset_left = -179.0
offset_top = 66.0
offset_right = 182.0
offset_bottom = 140.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(180, 40)
theme = ExtResource("6_jtu27")
theme_override_fonts/font = ExtResource("2_hdird")
theme_override_font_sizes/font_size = 50
text = "townsville"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HoverSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_hsko1")
volume_db = -15.0
bus = &"SFX"

[node name="TravelInfo" type="MarginContainer" parent="."]
visible = false
z_index = 2
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -600.0
offset_right = 250.0
offset_bottom = -100.0
grow_horizontal = 2
grow_vertical = 2

[node name="PanelContainer" type="PanelContainer" parent="TravelInfo"]
layout_mode = 2
theme = ExtResource("6_jtu27")

[node name="MarginContainer" type="MarginContainer" parent="TravelInfo"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 30

[node name="VBoxContainer" type="VBoxContainer" parent="TravelInfo/MarginContainer"]
layout_mode = 2
alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="TravelInfo/MarginContainer/VBoxContainer"]
clip_contents = true
layout_mode = 2
theme_override_constants/separation = 50
alignment = 1

[node name="GunsmithIcon" type="TextureRect" parent="TravelInfo/MarginContainer/VBoxContainer/HBoxContainer"]
visible = false
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
texture = ExtResource("8_a0fk0")
expand_mode = 4

[node name="TinkererIcon" type="TextureRect" parent="TravelInfo/MarginContainer/VBoxContainer/HBoxContainer"]
visible = false
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
texture = ExtResource("9_nf7vj")
expand_mode = 4

[node name="TrainyardIcon" type="TextureRect" parent="TravelInfo/MarginContainer/VBoxContainer/HBoxContainer"]
visible = false
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
texture = ExtResource("9_i57c5")
expand_mode = 4

[node name="TravelButton" type="Button" parent="TravelInfo/MarginContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("6_jtu27")
theme_override_font_sizes/font_size = 40
text = "All aboard!"

[node name="CloseButton" type="TextureButton" parent="TravelInfo/MarginContainer"]
layout_direction = 3
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0
texture_normal = ExtResource("8_m8501")
texture_pressed = ExtResource("8_m8501")
texture_hover = ExtResource("8_m8501")

[node name="OnScreenNotifier" type="VisibleOnScreenNotifier2D" parent="TravelInfo/MarginContainer/CloseButton"]
position = Vector2(15.5, 15)
scale = Vector2(2.25, 2.3)

[connection signal="input_event" from="." to="." method="_on_input_event"]
[connection signal="mouse_entered" from="." to="." method="_on_mouse_entered"]
[connection signal="mouse_exited" from="." to="." method="_on_mouse_exited"]
[connection signal="pressed" from="TravelInfo/MarginContainer/CloseButton" to="." method="_on_close_button_pressed"]
