[gd_scene load_steps=43 format=3 uid="uid://02oiy550pacp"]

[ext_resource type="Script" path="res://scripts/level.gd" id="1_2a3mn"]
[ext_resource type="PackedScene" uid="uid://cb1r5v4vqyrx8" path="res://scenes/train/TrainManager.tscn" id="3_3t5p5"]
[ext_resource type="Texture2D" uid="uid://bi5i4fe8imr7h" path="res://sprites/tiles/Desert_Tileset_01.png" id="3_mbth6"]
[ext_resource type="Script" path="res://scripts/maps/map.gd" id="3_nn34h"]
[ext_resource type="Shader" path="res://shaders/tilt_shift.gdshader" id="5_qayv6"]
[ext_resource type="FontFile" uid="uid://lxcj83h6gsu7" path="res://fonts/JMH Typewriter-Black.otf" id="5_uxjuw"]
[ext_resource type="Theme" uid="uid://dkxiakuxtv3c5" path="res://scenes/ui/sketch_theme.tres" id="7_v8euj"]
[ext_resource type="AudioStream" uid="uid://c8nvxqfmljdop" path="res://sounds/ui/book_skimming_short.wav" id="8_g00h4"]
[ext_resource type="AudioStream" uid="uid://d3wi2punv8qyu" path="res://sounds/ui/bell.wav" id="11_5nccy"]
[ext_resource type="Texture2D" uid="uid://0f7m488f6icb" path="res://sprites/ui/arrow_right.png" id="11_vtdu7"]
[ext_resource type="Shader" path="res://shaders/fog.gdshader" id="12_hxkjx"]
[ext_resource type="Script" path="res://scripts/ui/off_screen_indicator.gd" id="12_ka5l0"]
[ext_resource type="PackedScene" uid="uid://vlu5a68ciqp0" path="res://scenes/weapons/weapon_spawner.tscn" id="17_lhsmc"]
[ext_resource type="Shader" path="res://shaders/rain.gdshader" id="22_kbqtr"]
[ext_resource type="AudioStream" uid="uid://dqjq17gkaquqx" path="res://sounds/world/rain.wav" id="23_dws0p"]
[ext_resource type="PackedScene" uid="uid://0trmx7iuisj2" path="res://scenes/enemies/enemy_spawn_system.tscn" id="27_yh7dx"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vtfsx"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_in3y1"]
texture = ExtResource("3_mbth6")
texture_region_size = Vector2i(256, 256)
0:0/0 = 0
0:0/0/probability = 0.03
0:0/0/metadata/_better_terrain = {
"type": 1
}
1:0/0 = 0
1:0/0/metadata/_better_terrain = {
8: [1],
11: [2],
12: [1],
"type": 1
}
2:0/0 = 0
2:0/0/metadata/_better_terrain = {
0: [1],
12: [1],
15: [2],
"type": 1
}
3:0/0 = 0
3:0/0/metadata/_better_terrain = {
0: [1],
8: [1],
11: [2],
12: [1],
15: [2],
"type": 1
}
4:0/0 = 0
4:0/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
"type": 1
}
5:0/0 = 0
5:0/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
8: [1],
11: [2],
12: [1],
"type": 1
}
6:0/0 = 0
6:0/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
12: [1],
15: [2],
"type": 1
}
7:0/0 = 0
7:0/0/metadata/_better_terrain = {
3: [2],
11: [2],
15: [2],
"type": 1
}
0:1/0 = 0
0:1/0/metadata/_better_terrain = {
4: [1],
7: [2],
8: [1],
"type": 1
}
1:1/0 = 0
1:1/0/metadata/_better_terrain = {
4: [1],
7: [2],
8: [1],
11: [2],
12: [1],
"type": 1
}
2:1/0 = 0
2:1/0/metadata/_better_terrain = {
0: [1],
4: [1],
7: [2],
8: [1],
12: [1],
15: [2],
"type": 1
}
3:1/0 = 0
3:1/0/metadata/_better_terrain = {
0: [1],
4: [1],
7: [2],
8: [1],
11: [2],
12: [1],
15: [2],
"type": 1
}
4:1/0 = 0
4:1/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
7: [2],
8: [1],
"type": 1
}
5:1/0 = 0
5:1/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
7: [2],
8: [1],
11: [2],
12: [1],
"type": 1
}
6:1/0 = 0
6:1/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
7: [2],
8: [1],
12: [1],
15: [2],
"type": 1
}
7:1/0 = 0
7:1/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
7: [2],
8: [1],
11: [2],
12: [1],
15: [2],
"type": 1
}
0:2/0 = 0
0:2/0/metadata/_better_terrain = {
0: [1],
8: [2],
12: [1],
15: [2],
"type": 1
}
1:2/0 = 0
1:2/0/metadata/_better_terrain = {
4: [1],
8: [2],
12: [1],
"type": 1
}
2:2/0 = 0
2:2/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
8: [2],
"type": 1
}
3:2/0 = 0
3:2/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
8: [2],
12: [1],
15: [2],
"type": 1
}
4:2/0 = 0
4:2/0/metadata/_better_terrain = {
0: [1],
8: [1],
12: [2],
"type": 1
}
5:2/0 = 0
5:2/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
12: [2],
"type": 1
}
6:2/0 = 0
6:2/0/metadata/_better_terrain = {
4: [1],
7: [2],
8: [1],
12: [2],
"type": 1
}
7:2/0 = 0
7:2/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
7: [2],
8: [1],
12: [2],
"type": 1
}
0:3/0 = 0
0:3/0/metadata/_better_terrain = {
0: [2],
4: [1],
12: [1],
"type": 1
}
1:3/0 = 0
1:3/0/metadata/_better_terrain = {
0: [2],
4: [1],
7: [2],
8: [1],
12: [1],
"type": 1
}
2:3/0 = 0
2:3/0/metadata/_better_terrain = {
0: [2],
4: [1],
8: [1],
11: [2],
12: [1],
"type": 1
}
3:3/0 = 0
3:3/0/metadata/_better_terrain = {
0: [2],
4: [1],
7: [2],
8: [1],
11: [2],
12: [1],
"type": 1
}
4:3/0 = 0
4:3/0/metadata/_better_terrain = {
0: [1],
4: [2],
8: [1],
"type": 1
}
5:3/0 = 0
5:3/0/metadata/_better_terrain = {
4: [2],
8: [1],
11: [2],
12: [1],
"type": 1
}
6:3/0 = 0
6:3/0/metadata/_better_terrain = {
0: [1],
4: [2],
12: [1],
15: [2],
"type": 1
}
7:3/0 = 0
7:3/0/metadata/_better_terrain = {
0: [1],
4: [2],
8: [1],
11: [2],
12: [1],
15: [2],
"type": 1
}
0:4/0 = 0
0:4/0/metadata/_better_terrain = {
0: [2],
4: [1],
8: [2],
12: [1],
"type": 1
}
1:4/0 = 0
1:4/0/metadata/_better_terrain = {
0: [1],
4: [2],
8: [1],
12: [2],
"type": 1
}
2:4/0 = 0
2:4/0/metadata/_better_terrain = {
8: [2],
12: [2],
"type": 1
}
3:4/0 = 0
3:4/0/metadata/_better_terrain = {
0: [1],
3: [2],
4: [1],
8: [2],
12: [2],
"type": 1
}
4:4/0 = 0
4:4/0/metadata/_better_terrain = {
0: [2],
12: [2],
"type": 1
}
5:4/0 = 0
5:4/0/metadata/_better_terrain = {
0: [2],
4: [1],
7: [2],
8: [1],
12: [2],
"type": 1
}
6:4/0 = 0
6:4/0/metadata/_better_terrain = {
0: [2],
4: [2],
"type": 1
}
7:4/0 = 0
7:4/0/metadata/_better_terrain = {
0: [2],
4: [2],
8: [1],
11: [2],
12: [1],
"type": 1
}
0:5/0 = 0
0:5/0/metadata/_better_terrain = {
4: [2],
8: [2],
"type": 1
}
1:5/0 = 0
1:5/0/metadata/_better_terrain = {
0: [1],
4: [2],
8: [2],
12: [1],
15: [2],
"type": 1
}
2:5/0 = 0
2:5/0/metadata/_better_terrain = {
0: [2],
4: [1],
8: [2],
12: [2],
"type": 1
}
3:5/0 = 0
3:5/0/metadata/_better_terrain = {
0: [1],
4: [2],
8: [2],
12: [2],
"type": 1
}
4:5/0 = 0
4:5/0/metadata/_better_terrain = {
0: [2],
4: [2],
8: [2],
12: [1],
"type": 1
}
5:5/0 = 0
5:5/0/metadata/_better_terrain = {
0: [2],
4: [2],
8: [1],
12: [2],
"type": 1
}
6:5/0 = 0
6:5/0/metadata/_better_terrain = {
0: [2],
4: [2],
8: [2],
12: [2],
"type": 1
}
7:5/0 = 0
7:5/0/metadata/_better_terrain = {
"type": 2
}
0:6/0 = 0
0:6/0/probability = 0.03
0:6/0/metadata/_better_terrain = {
"type": 1
}
1:6/0 = 0
1:6/0/probability = 0.03
1:6/0/metadata/_better_terrain = {
"type": 1
}
2:6/0 = 0
2:6/0/probability = 0.03
2:6/0/metadata/_better_terrain = {
"type": 1
}
3:6/0 = 0
3:6/0/probability = 0.03
3:6/0/metadata/_better_terrain = {
"type": 1
}
4:6/0 = 0
4:6/0/metadata/_better_terrain = {
"type": 1
}
5:6/0 = 0
5:6/0/probability = 0.03
5:6/0/metadata/_better_terrain = {
"type": 1
}
1:7/0 = 0
1:7/0/metadata/_better_terrain = {
8: [1],
11: [0],
12: [1],
"type": 1
}
2:7/0 = 0
2:7/0/metadata/_better_terrain = {
0: [1],
12: [1],
15: [0],
"type": 1
}
3:7/0 = 0
3:7/0/metadata/_better_terrain = {
0: [1],
8: [1],
11: [0],
12: [1],
15: [0],
"type": 1
}
4:7/0 = 0
4:7/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
"type": 1
}
5:7/0 = 0
5:7/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
8: [1],
11: [0],
12: [1],
"type": 1
}
6:7/0 = 0
6:7/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
12: [1],
15: [0],
"type": 1
}
7:7/0 = 0
7:7/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
8: [1],
11: [0],
12: [1],
15: [0],
"type": 1
}
7:8/0 = 0
7:8/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
7: [0],
8: [1],
11: [0],
12: [1],
15: [0],
"type": 1
}
6:8/0 = 0
6:8/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
7: [0],
8: [1],
12: [1],
15: [0],
"type": 1
}
5:8/0 = 0
5:8/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
7: [0],
8: [1],
11: [0],
12: [1],
"type": 1
}
4:8/0 = 0
4:8/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
7: [0],
8: [1],
"type": 1
}
3:8/0 = 0
3:8/0/metadata/_better_terrain = {
0: [1],
4: [1],
7: [0],
8: [1],
11: [0],
12: [1],
15: [0],
"type": 1
}
2:8/0 = 0
2:8/0/metadata/_better_terrain = {
0: [1],
4: [1],
7: [0],
8: [1],
12: [1],
15: [0],
"type": 1
}
1:8/0 = 0
1:8/0/metadata/_better_terrain = {
4: [1],
7: [0],
8: [1],
11: [0],
12: [1],
"type": 1
}
0:8/0 = 0
0:8/0/metadata/_better_terrain = {
4: [1],
7: [0],
8: [1],
"type": 1
}
0:9/0 = 0
0:9/0/metadata/_better_terrain = {
0: [1],
8: [0],
12: [1],
15: [0],
"type": 1
}
1:9/0 = 0
1:9/0/metadata/_better_terrain = {
4: [1],
8: [0],
12: [1],
"type": 1
}
2:9/0 = 0
2:9/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
8: [0],
"type": 1
}
3:9/0 = 0
3:9/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
8: [0],
12: [1],
15: [0],
"type": 1
}
4:9/0 = 0
4:9/0/metadata/_better_terrain = {
0: [1],
8: [1],
12: [0],
"type": 1
}
5:9/0 = 0
5:9/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
12: [0],
"type": 1
}
6:9/0 = 0
6:9/0/metadata/_better_terrain = {
4: [1],
7: [0],
8: [1],
12: [0],
"type": 1
}
7:9/0 = 0
7:9/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
7: [0],
8: [1],
12: [0],
"type": 1
}
7:10/0 = 0
7:10/0/metadata/_better_terrain = {
0: [1],
4: [0],
8: [1],
11: [0],
12: [1],
15: [0],
"type": 1
}
6:10/0 = 0
6:10/0/metadata/_better_terrain = {
0: [1],
4: [0],
12: [1],
15: [0],
"type": 1
}
5:10/0 = 0
5:10/0/metadata/_better_terrain = {
4: [0],
8: [1],
11: [0],
12: [1],
"type": 1
}
4:10/0 = 0
4:10/0/metadata/_better_terrain = {
0: [1],
4: [0],
8: [1],
"type": 1
}
3:10/0 = 0
3:10/0/metadata/_better_terrain = {
0: [0],
4: [1],
7: [0],
8: [1],
11: [0],
12: [1],
"type": 1
}
2:10/0 = 0
2:10/0/metadata/_better_terrain = {
0: [0],
4: [1],
8: [1],
11: [0],
12: [1],
"type": 1
}
1:10/0 = 0
1:10/0/metadata/_better_terrain = {
0: [0],
4: [1],
7: [0],
8: [1],
12: [1],
"type": 1
}
0:10/0 = 0
0:10/0/metadata/_better_terrain = {
0: [0],
4: [1],
12: [1],
"type": 1
}
0:11/0 = 0
0:11/0/metadata/_better_terrain = {
0: [0],
4: [1],
8: [0],
12: [1],
"type": 1
}
1:11/0 = 0
1:11/0/metadata/_better_terrain = {
0: [1],
4: [0],
8: [1],
12: [0],
"type": 1
}
2:11/0 = 0
2:11/0/metadata/_better_terrain = {
8: [0],
12: [0],
"type": 1
}
3:11/0 = 0
3:11/0/metadata/_better_terrain = {
0: [1],
3: [0],
4: [1],
8: [0],
12: [0],
"type": 1
}
4:11/0 = 0
4:11/0/metadata/_better_terrain = {
0: [0],
12: [0],
"type": 1
}
5:11/0 = 0
5:11/0/metadata/_better_terrain = {
0: [0],
4: [1],
7: [0],
8: [1],
12: [0],
"type": 1
}
6:11/0 = 0
6:11/0/metadata/_better_terrain = {
0: [0],
4: [0],
"type": 1
}
7:11/0 = 0
7:11/0/metadata/_better_terrain = {
0: [0],
4: [0],
8: [1],
11: [0],
12: [1],
"type": 1
}
7:12/0 = 0
7:12/0/metadata/_better_terrain = {
"type": 0
}
6:12/0 = 0
6:12/0/metadata/_better_terrain = {
0: [0],
4: [0],
8: [0],
12: [0],
"type": 1
}
5:12/0 = 0
5:12/0/metadata/_better_terrain = {
0: [0],
4: [0],
8: [1],
12: [0],
"type": 1
}
4:12/0 = 0
4:12/0/metadata/_better_terrain = {
0: [0],
4: [0],
8: [0],
12: [1],
"type": 1
}
3:12/0 = 0
3:12/0/metadata/_better_terrain = {
0: [1],
4: [0],
8: [0],
12: [0],
"type": 1
}
2:12/0 = 0
2:12/0/metadata/_better_terrain = {
0: [0],
4: [1],
8: [0],
12: [0],
"type": 1
}
1:12/0 = 0
1:12/0/metadata/_better_terrain = {
0: [1],
4: [0],
8: [0],
12: [1],
15: [0],
"type": 1
}
0:12/0 = 0
0:12/0/metadata/_better_terrain = {
4: [0],
8: [0],
"type": 1
}

[sub_resource type="TileSet" id="TileSet_7qj15"]
tile_size = Vector2i(256, 256)
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "water"
terrain_set_0/terrain_0/color = Color(0.224499, 0.352809, 0.72484, 1)
terrain_set_0/terrain_1/name = "dark_dirt"
terrain_set_0/terrain_1/color = Color(0.5, 0.4375, 0.25, 1)
terrain_set_0/terrain_2/name = "light_dirt"
terrain_set_0/terrain_2/color = Color(0.46875, 0.5, 0.25, 1)
terrain_set_0/terrain_3/name = "sand"
terrain_set_0/terrain_3/color = Color(0.375, 0.5, 0.25, 1)
sources/0 = SubResource("TileSetAtlasSource_in3y1")
metadata/_better_terrain = {
"decoration": ["Decoration", Color(0.411765, 0.411765, 0.411765, 1), 3, [], {
"path": "res://addons/better-terrain/icons/Decoration.svg"
}],
"terrains": [["Water", Color(0.573608, 0, 0.578125, 1), 0, [], {
"path": ""
}], ["Dirt", Color(0.472717, 1, 0.363281, 1), 0, [], {
"path": ""
}], ["Mountain", Color(0.28269, 0.588104, 0.900331, 1), 0, [], {
"path": ""
}]],
"version": "0.2"
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cqxjf"]
shader = ExtResource("5_qayv6")
shader_parameter/limit = 0.2
shader_parameter/blur = 2.0

[sub_resource type="Animation" id="Animation_h2wgm"]
resource_name = "alert_flash"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5, 5.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [true, false, true, false, true, false, true, false, true, false, false, false]
}

[sub_resource type="Animation" id="Animation_dsu7x"]
resource_name = "alert_flash_short"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [true, false, true, false, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bqojy"]
_data = {
"alert_flash": SubResource("Animation_h2wgm"),
"alert_flash_short": SubResource("Animation_dsu7x")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7bss3"]
bg_color = Color(0.262745, 0, 0, 0.4)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_5u7rd"]
bg_color = Color(0.901961, 0, 0, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5

[sub_resource type="Gradient" id="Gradient_678u3"]
offsets = PackedFloat32Array(0.0933735, 0.629518)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_xqvyy"]
frequency = 0.3535

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_qkm0k"]
invert = true
seamless = true
color_ramp = SubResource("Gradient_678u3")
noise = SubResource("FastNoiseLite_xqvyy")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mc2q4"]
shader = ExtResource("22_kbqtr")
shader_parameter/line_color = Color(0, 0.886275, 0.886275, 1)
shader_parameter/line_count = 1.9
shader_parameter/line_density = 0.048
shader_parameter/line_faloff = 0.055
shader_parameter/mask_size = 0.0
shader_parameter/mask_edge = 0.845
shader_parameter/animation_speed = 10.794
shader_parameter/noise = SubResource("NoiseTexture2D_qkm0k")

[sub_resource type="CanvasTexture" id="CanvasTexture_rjoqq"]

[sub_resource type="Animation" id="Animation_xvox3"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/line_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0.886275, 0.886275, 1)]
}

[sub_resource type="Animation" id="Animation_6ry7i"]
resource_name = "fade_in"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RainSFX:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-80.0, -25.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:material:shader_parameter/line_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0.886275, 0.886275, 0), Color(0, 0.886275, 0.886275, 1)]
}

[sub_resource type="Animation" id="Animation_e30y6"]
resource_name = "fade_out"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RainSFX:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-25.0, -80.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:material:shader_parameter/line_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0.886275, 0.886275, 1), Color(0, 0.886275, 0.886275, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lvm2e"]
_data = {
"RESET": SubResource("Animation_xvox3"),
"fade_in": SubResource("Animation_6ry7i"),
"fade_out": SubResource("Animation_e30y6")
}

[sub_resource type="Gradient" id="Gradient_x358j"]
offsets = PackedFloat32Array(0, 0.689751, 0.803324)
colors = PackedColorArray(0, 0, 0, 1, 0.531856, 0.531856, 0.531856, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_qt4gw"]
noise_type = 2
frequency = 0.0053
offset = Vector3(1, 0, 0)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ahocc"]
seamless = true
color_ramp = SubResource("Gradient_x358j")
noise = SubResource("FastNoiseLite_qt4gw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lc2ou"]
shader = ExtResource("12_hxkjx")
shader_parameter/density = 0.2
shader_parameter/speed = Vector2(0.005, 0.005)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_ahocc")

[sub_resource type="Animation" id="Animation_m0ph8"]
resource_name = "flash"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("OffScreenIndicator:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 0, 0, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_tx4wt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("OffScreenIndicator:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4avml"]
_data = {
"RESET": SubResource("Animation_tx4wt"),
"flash": SubResource("Animation_m0ph8")
}

[sub_resource type="Curve2D" id="Curve2D_suyvb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 2

[node name="Level" type="Node2D"]
process_mode = 1
script = ExtResource("1_2a3mn")

[node name="Map" type="TileMap" parent="."]
material = SubResource("ShaderMaterial_vtfsx")
tile_set = SubResource("TileSet_7qj15")
format = 2
script = ExtResource("3_nn34h")

[node name="TrainManager" parent="." instance=ExtResource("3_3t5p5")]

[node name="Bullets" type="Node2D" parent="."]

[node name="Enemies" type="Node2D" parent="."]

[node name="UI" type="CanvasLayer" parent="."]

[node name="TiltShift" type="ColorRect" parent="UI"]
material = SubResource("ShaderMaterial_cqxjf")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="AlertLabel" type="Label" parent="UI"]
offset_right = 1922.0
offset_bottom = 186.0
theme_override_colors/font_color = Color(1, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 5
theme_override_font_sizes/font_size = 50
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI/AlertLabel"]
libraries = {
"": SubResource("AnimationLibrary_bqojy")
}

[node name="PlayerHealthBar" type="ProgressBar" parent="UI"]
process_mode = 4
visible = false
offset_left = 60.0
offset_top = 59.0
offset_right = 238.0
offset_bottom = 98.0
theme_override_styles/background = SubResource("StyleBoxFlat_7bss3")
theme_override_styles/fill = SubResource("StyleBoxFlat_5u7rd")
max_value = 50.0
value = 25.0
show_percentage = false

[node name="MoneyLabel" type="Label" parent="UI"]
offset_left = 1690.0
offset_top = 44.0
offset_right = 1855.0
offset_bottom = 83.0
theme_override_colors/font_color = Color(0.870588, 0.74902, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 5
theme_override_fonts/font = ExtResource("5_uxjuw")
theme_override_font_sizes/font_size = 30
text = "Money = 0"

[node name="EdgeMenu" type="HBoxContainer" parent="UI"]
process_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
mouse_force_pass_scroll_events = false
theme_override_constants/separation = 500
alignment = 1

[node name="Weather" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Rain" type="TextureRect" parent="UI/Weather"]
z_index = -5
material = SubResource("ShaderMaterial_mc2q4")
custom_minimum_size = Vector2(1920, 1080)
layout_mode = 0
offset_right = 1920.0
offset_bottom = 1080.0
mouse_filter = 2
texture = SubResource("CanvasTexture_rjoqq")

[node name="RainSFX" type="AudioStreamPlayer" parent="UI/Weather/Rain"]
stream = ExtResource("23_dws0p")
volume_db = -80.0
autoplay = true
bus = &"SFX"

[node name="RainAnimations" type="AnimationPlayer" parent="UI/Weather/Rain"]
libraries = {
"": SubResource("AnimationLibrary_lvm2e")
}

[node name="ParallaxBackground" type="ParallaxBackground" parent="UI/Weather"]
layer = 100

[node name="ParallaxLayer" type="ParallaxLayer" parent="UI/Weather/ParallaxBackground"]
motion_mirroring = Vector2(1920, 1080)

[node name="Clouds" type="ColorRect" parent="UI/Weather/ParallaxBackground/ParallaxLayer"]
material = SubResource("ShaderMaterial_lc2ou")
offset_right = 1920.0
offset_bottom = 1080.0
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="WeatherTimer" type="Timer" parent="UI/Weather"]
wait_time = 60.0
autostart = true

[node name="WeaponLabel" type="Label" parent="UI"]
offset_left = 60.0
offset_top = 37.0
offset_right = 196.0
offset_bottom = 84.0
theme = ExtResource("7_v8euj")
text = "Revolver
Ammo: inf"
horizontal_alignment = 1
vertical_alignment = 1

[node name="EdgeSFX" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("8_g00h4")
bus = &"SFX"

[node name="LevelUpSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_5nccy")
volume_db = -8.0
bus = &"SFX"

[node name="WeaponSpawner" parent="." instance=ExtResource("17_lhsmc")]
process_mode = 4

[node name="EnemySpawnSystem" parent="." instance=ExtResource("27_yh7dx")]

[node name="HazardSpawnTimer" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="OffscreenUI" type="CanvasLayer" parent="."]

[node name="OffScreenIndicator" type="TextureRect" parent="OffscreenUI"]
texture_filter = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -100.0
offset_top = -100.0
offset_right = 100.0
offset_bottom = 100.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(100, 100)
texture = ExtResource("11_vtdu7")
script = ExtResource("12_ka5l0")

[node name="OffscreenLabel" type="Label" parent="OffscreenUI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -36.0
offset_top = -15.5
offset_right = 36.0
offset_bottom = 15.5
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(36, 15)
theme = ExtResource("7_v8euj")
text = "Danger!"

[node name="AnimationPlayer" type="AnimationPlayer" parent="OffscreenUI"]
libraries = {
"": SubResource("AnimationLibrary_4avml")
}
autoplay = "flash"

[node name="Path" type="Path2D" parent="OffscreenUI"]
curve = SubResource("Curve2D_suyvb")

[connection signal="timeout" from="UI/Weather/WeatherTimer" to="." method="calculate_weather"]
[connection signal="timeout" from="HazardSpawnTimer" to="." method="hazard_spawn_timer_timeout"]
